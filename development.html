

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Development &mdash; PyVOL 1.7.5 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="PyVOL Package" href="pyvol.html" />
    <link rel="prev" title="Loading Previous Results" href="load_previous.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> PyVOL
          

          
          </a>

          
            
            
              <div class="version">
                1.7.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic.html">Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="pocket_specification.html">Pocket Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="partitioning.html">Partitioning Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="output.html">Output and Display Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="shell.html">Shell Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="load_previous.html">Loading Previous Results</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#package-design">Package Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="#algorithm-design">Algorithm Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gui-design">GUI Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-incrementation">Version Incrementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#distribution">Distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing">Testing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyvol.html">PyVOL Package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PyVOL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Development</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/development.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="development">
<h1>Development<a class="headerlink" href="#development" title="Permalink to this headline">¶</a></h1>
<div class="section" id="package-design">
<h2>Package Design<a class="headerlink" href="#package-design" title="Permalink to this headline">¶</a></h2>
<p>The main PyVOL algorithm is run from <cite>identify.pocket</cite>. Input option sanitization and logger configuration have been split into <cite>identify.pocket_wrapper</cite>. The pocket identification logic occurs within <cite>identify.pocket</cite> with almost all direct data manipulation handled by the class methods of <cite>Spheres</cite>. If enabled, subpocket clustering occurs in <cite>identify.subpockets</cite> with data manipulation occurring in <cite>cluster</cite>. Frequently used functions have been split into <cite>utilities</cite>. Configuration file reading and writing as well as input parameter checking is done in <cite>configuration</cite>.</p>
<p>The PyMOL interface is contained in <cite>pymol_interface</cite> though integration into the PyMOL environment is actually handled in <cite>pyvol_gui.__init__</cite>. Display and other PyMOL-specific functions are defined in <cite>pymol_utilities</cite>.</p>
<p>The two primary interfaces are via configuration file (invoked through the command line using the entry point in <cite>__main__</cite> that is created on installation) and via PyMOL. PyMOL is extended with all commands, and the GUI provides a limited interface to these functions. Programmatic invocation is also supported. If standard output options are reasonable, using the <cite>identify.pocket_wrapper</cite> entry point is better. For more customization, directly call <cite>identify.pocket</cite> after calling <cite>configuration.clean_opts</cite> on a dictionary containing all required options.</p>
</div>
<div class="section" id="algorithm-design">
<h2>Algorithm Design<a class="headerlink" href="#algorithm-design" title="Permalink to this headline">¶</a></h2>
<p>The primary algorithmic logic is supplied in <cite>identify.py</cite> which acts as the only interface between the user-facing modules and the computational back-end.</p>
<p>The Spheres class holds all of the geometric information about proteins and pockets. It represents any object as a collection of spheres by holding their coordinates, radii, and cluster identifications in a 5D numpy array. Surface triangulation using MSMS and many other convenience functions are included in the class itself. The methods contained in the separate <cite>cluster.py</cite> would largely work as methods in the Spheres class but have been separated due to that class becoming too large and the specificity of those methods to subpocket partitioning.</p>
</div>
<div class="section" id="gui-design">
<h2>GUI Design<a class="headerlink" href="#gui-design" title="Permalink to this headline">¶</a></h2>
<p>The GUI was developed using Qt Designer and run using PyQT5. PyQT does not run in PyMOL 1.x distributions, so the GUI is only available in PyMOL 2.0+.</p>
</div>
<div class="section" id="version-incrementation">
<h2>Version Incrementation<a class="headerlink" href="#version-incrementation" title="Permalink to this headline">¶</a></h2>
<p>PyVOL uses a standard incrementation scheme. The version of the back-end must be updated in <cite>setup.py</cite>, <cite>pyvol/__init__.py</cite>, and <cite>docs/source/conf.py</cite>. The GUI version is set in <cite>pyvolgui/__init__.py</cite>, and the the version of the GUI that the back-end expects is set again in <cite>pyvol/__init__.py</cite>. Experimental code is pushed with an alpha or beta designation (a or b before the final digit). GUI versions should only change when the GUI files are changed, but the version is intended to catch up to the backend version rather than the next available incrementation.</p>
</div>
<div class="section" id="distribution">
<h2>Distribution<a class="headerlink" href="#distribution" title="Permalink to this headline">¶</a></h2>
<p>The code is hosted on github by the Schlessinger Lab. The PyVOL backend is distributed through PyPI. This process of uploading to PyPI is automated in the <cite>dev/build.sh</cite> script. Installers are packaged using the <cite>dev/package_plugins.sh</cite> script. Documentation is generated and pushed to the github-hosted documentation website with the <cite>dev/document.sh</cite> script. All three are combined in the <cite>dev/rebuild.sh</cite> script. The plugin will be available both from the github page and (eventually) through the official PyMOL wiki.</p>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>Documentation is in the Sphinx/RTD style. Module documentation is collated using <cite>sphinx-apidoc</cite>. The documentation website is built using the <cite>sphinx-rtd-theme</cite> and maintained on the gh-pages branch of PyVOL. The <cite>pyvol_manual.pdf</cite> is generated using sphinx’s evocation of pdfTeX. PyPI can apparently not parse rst files, so the README.rst is converted to a md file using pandoc just prior to deployment.</p>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p>Integration testing of the non-PyMOL components is performed using pytest out of <cite>tests/test_pyvol.py</cite>. These are invoked by running <cite>python -m pytest</cite> in the root pyvol directory. These tests have been run using pytest version 5.3.5. Installing <cite>pytest-xdist</cite> is recommended for efficiency’s sake.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pyvol.html" class="btn btn-neutral float-right" title="PyVOL Package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="load_previous.html" class="btn btn-neutral float-left" title="Loading Previous Results" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Ryan H.B. Smith

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>